<#import "../layout/defaultLayout.ftl.html" as layout>
<@layout.myLayout "${i18n('app.name')} ${i18n('change.password')}">
	<div class="col-md-6 col-md-offset-3">
			<h2>${i18n("change.password")}</h2>
			<form id="changePasswordForm" class="form-group form-error-label" action="/settings/user/changepassword/" method="post">
				<@authenticityForm/>
				<div class="contact-form">
					<label>${i18n("password.new")}</label><span class="required">*</span><h5 class="contact-us-form-error">${(flash.invalidPassword!)}</h5>
					<input class="form-control" type="password" name="password" />
				</div>
				<div class="contact-form">
					<label>${i18n("password.retype")}</label><span class="required">*</span><h5 class="contact-us-form-error">
					${(flash.invalidRetypePassword!)}</h5>
					<input class="form-control" type="password" name="retypePassword" />
				</div>
				<div class="contact-form">
					<button id="submitForm" class="btn btn-success form-control">${i18n("button.save")}</button>
				</div>
			</form>
	</div>
</@layout.myLayout>
<script>

 $().ready(function() {
 	// validate contact us form on keyup and submit
 	$("#changePasswordForm").validate({
 		rules: {
			password: "required",
			retypePassword: "required",
			password: {
				required: true,
				minlength: 8
			},
			retypePassword: {
				required: true,
				minlength: 8
			}
		},
		messages: {
			password: {
				required: "Please enter password",
				minlength: "Password must contain at least 8 characters"
			},
			retypePassword: {
				required: "Please retype password",
				minlength: "Password must contain at least 8 characters"
			}
		},
 		submitHandler: function(form) {
 			$.confirm({
 				title: 'Confirm!',
 			    confirmButtonClass: 'btn-info',
 			    cancelButtonClass: 'btn-danger',
 			    confirm: function(){
 			       form.submit();
 			    },
 			    cancel: function(){
 			    }
 			});
 		}
 	});
 });
</script>